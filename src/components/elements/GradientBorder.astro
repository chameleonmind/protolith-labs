---
interface Props {
  as?: any
  class?: string
  width?: string
  accentColor?: string
  baseColor?: string
  radius?: string
  glowIntensity?: number // 0 to 1
  [key: string]: any
}

const {
  as: Element = 'div',
  class: className,
  width = '1px',
  radius = '12px',
  glowIntensity = 0.5,
  ...rest
} = Astro.props
---

<Element
  class:list={['gradient-border', className]}
  style={{
    '--border-width': width,
    '--border-radius': radius,
    '--glow-opacity': glowIntensity,
  }}
  {...rest}
>
  <slot />
</Element>

<style lang="scss">
  .gradient-border {
    position: relative;
    border-radius: calc(var(--radius) * 4);
    z-index: 0;
    overflow: hidden;
  }

  /* The Border */
  .gradient-border::before {
    content: "";
    position: absolute;
    inset: calc(var(--border-width) * -1);
    padding: var(--border-width);
    border-radius: inherit;

    /* Fixed Gradient Syntax */
    background:
      radial-gradient(circle at 50% 0%, var(--text-color), transparent 70%),
      linear-gradient(to bottom, var(--text-color-light), transparent);

    /*-webkit-mask:*/
    /*  linear-gradient(#fff, #fff) content-box,*/
    /*  linear-gradient(#fff, #fff);*/
    mask:
      linear-gradient(#fff, #fff) content-box,
      linear-gradient(#fff, #fff);

    -webkit-mask-composite: xor;
    mask-composite: exclude;

    pointer-events: none;
    z-index: -1;
  }
</style>